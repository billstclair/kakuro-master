<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>Kakuro Dojo</title>
  <script type="text/javascript" src="kakuro.js"></script>
  <script type="text/javascript" src="js/sha256.js"></script>
  <script type="text/javascript" src="js/kakuroPorts.js"></script>
  <script type="text/javascript" src="js/fastclick.min.js"></script>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
</head>

<body>

<noscript>
<p style='text-align: center;'>
  <img src='images/screenshot-491x770.png' alt='screenshot' width='491' height='770'/>
</p>

<div style='width:40em; margin: 0 auto;text-align: center;'>
<p style='color: red; font-size: 200%; font-weight: bold;'>
  This site is generated by Elm JavaScript. If you're seeing this you have JavaScript disabled. The game won't be much fun with just a static image. Turn on JavaScript to play.
</p>
<p>
&copy; Copyright 2016-2017
<a href='https://GibGoyGames.com/'>Gib Goy Games</a>
&lt;<a href='mailto:GibGoyGames@gmail.com'>GibGoyGames@gmail.com</a>
<br/>
<a href='https://steemit.com/created/kakuro-master'><img src='images/steemit-icon-114x114.png' alt="Steemit articles" width='32' height='32'/></a>
<a href='https://github.com/billstclair/kakuro-master'><img src='images/GitHub-Mark-32px.png' alt='GitHub source code' width='32' height='32'/></a>
<a href='http://elm-lang.org/'><img src='images/elm-logo-125x125.png' alt='Elm inside' width='28' height='28'/></a>
</p>
</div>
</noscript>

<script type="text/javascript">

// I said, in the "viewport" meta tag above, not to allow the user to
// zoom the viewport ("user-scalable=no"), but the geniuses who make
// Apple's Safari web browser decided to ignore that.
// Thank you, Joseph! http://stackoverflow.com/a/38573198/1386989
document.documentElement.addEventListener('touchstart', function (event) {
  if (event.touches.length > 1) {
    event.preventDefault();
  }
}, false);

var app = {
  registerDeviceReady: function(callback) {
    callback();                 // ready immediately
  },

  confirm: function(query, callback) {
    var answer = window.confirm(query);
    callback(answer);
  },

  multiConfirm: function(message, title, responses, callback) {
    // Only supported in Cordova
  },

  platform: function() {
    return "web";
  },

  iapGetProducts: function(pids, callback) {
    var fakes = [];
    for (var pid in pids) {
      pid = pids[pid];
      var fake = { productId: pid,
                   title: "A fake product.",
                   description: "A fake description.",
                   price: "$0.99",
                   garbage: "foo"
                 }
      fakes.push(fake);
    }
    callback(fakes);
  },

  iapBuy: function(pid, callback) {
    var fake = { transactionId: "12345",
                 garbage: "foo"
               }
    callback(fake);
  },

  iapRestorePurchases: function(callback) {
    var purchase = { productId: "puzzles2",
                     transactionId: "12345",
                     date: 1483702426499
                   };
    callback([purchase]);
  }
}

kakuroPorts.init();

</script>

</body>
</html>
